/* === Artsolio Accent â€” minimal, theme-agnostic === */

/* The accent element itself */
.artsolio-accent,
.wp-block-artsolio-accent {
  inline-size: var(--artsolio_accent_size);
  /* position & sides are inline on the <figure> from edit/save */
  /* pointer-events is inline (decorative) */
}

/* If the parent anchoring toggle is used */
.is-accent-anchor,
.artsolio_is-accent-anchor {
  position: relative !important;
  z-index: var(--artsolio_anchor_z, 12000) !important;
  isolation: isolate;
}

/* Accent above content within that anchor */
.is-accent-anchor .artsolio-accent,
.artsolio_is-accent-anchor .artsolio-accent {
  z-index: calc(var(--artsolio_anchor_z, 12000) + 1) !important;
  transform: translateZ(0);
}

/* Fallback: lift any common container that actually contains the accent (Kadence or Core) */
.wp-block-kadence-column:has(.artsolio-accent),
.wp-block-kadence-rowlayout:has(.artsolio-accent),
.wp-block-group:has(.artsolio-accent),
.wp-block-columns:has(.artsolio-accent),
.wp-block-column:has(.artsolio-accent) {
  position: relative !important;
  z-index: var(--artsolio_anchor_z, 12000) !important;
  isolation: isolate;
}

/* Kadence inner column wrapper containing the accent should also be isolated/lifted */
.kt-inside-inner-col:has(.artsolio-accent) {
  position: relative !important;
  z-index: var(--artsolio_anchor_z, 12000) !important;
  isolation: isolate;
}

/* And make sure the accent is above its siblings inside that container */
.wp-block-kadence-column:has(.artsolio-accent) .artsolio-accent,
.wp-block-kadence-rowlayout:has(.artsolio-accent) .artsolio-accent,
.wp-block-group:has(.artsolio-accent) .artsolio-accent,
.wp-block-columns:has(.artsolio-accent) .artsolio-accent,
.wp-block-column:has(.artsolio-accent) .artsolio-accent {
  z-index: calc(var(--artsolio_anchor_z, 12000) + 1) !important;
}

/* Theme decorative overlays should never sit above the accent */
.kb-row-layout-overlay,
.kt-row-layout-overlay {
  z-index: 1 !important;
  pointer-events: none;
}

/* Hide on mobile */
@media (max-width: 781px) {
  .artsolio-accent.is-hidden-mobile,
  .wp-block-artsolio-accent.is-hidden-mobile { display: none !important; }
}

/* === Kadence-only vertical correction ===================================== */
/* If the accent sits inside Kadence Row/Column inner wrappers, map top/bottom correctly.
   We use !important to safely override the figure's inline side in this specific context. */

body.kadence-theme .wp-block-kadence-rowlayout .kt-inside-inner-col .artsolio-accent.is-top-left,
body.kadence-theme .wp-block-kadence-column    .kt-inside-inner-col .artsolio-accent.is-top-left,
body.kadence-theme .kt-inside-inner-col .artsolio-accent.is-top-left {
  bottom: var(--artsolio_offset_y, var(--artsolio_accent_offset, 0)) !important;
  top: auto !important;
}

body.kadence-theme .wp-block-kadence-rowlayout .kt-inside-inner-col .artsolio-accent.is-top-right,
body.kadence-theme .wp-block-kadence-column    .kt-inside-inner-col .artsolio-accent.is-top-right,
body.kadence-theme .kt-inside-inner-col .artsolio-accent.is-top-right {
  bottom: var(--artsolio_offset_y, var(--artsolio_accent_offset, 0)) !important;
  top: auto !important;
}

body.kadence-theme .wp-block-kadence-rowlayout .kt-inside-inner-col .artsolio-accent.is-bottom-left,
body.kadence-theme .wp-block-kadence-column    .kt-inside-inner-col .artsolio-accent.is-bottom-left,
body.kadence-theme .kt-inside-inner-col .artsolio-accent.is-bottom-left {
  top: var(--artsolio_offset_y, var(--artsolio_accent_offset, 0)) !important;
  bottom: auto !important;
}

body.kadence-theme .wp-block-kadence-rowlayout .kt-inside-inner-col .artsolio-accent.is-bottom-right,
body.kadence-theme .wp-block-kadence-column    .kt-inside-inner-col .artsolio-accent.is-bottom-right,
body.kadence-theme .kt-inside-inner-col .artsolio-accent.is-bottom-right {
  top: var(--artsolio_offset_y, var(--artsolio_accent_offset, 0)) !important;
  bottom: auto !important;
}

/* Lift Kadence inner column if it directly contains the accent */
.kt-inside-inner-col:has(.artsolio-accent) {
  position: relative !important;
  z-index: var(--artsolio_anchor_z, 12000) !important;
  isolation: isolate;
}